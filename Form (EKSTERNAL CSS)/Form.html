<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Formulir Mahasigma</h1>

    <form id="dataForm">
        <label for="nim">NIM :</label>
        <input type="text" id="nim" name="nim" required>

        <label for="nama">Nama :</label>
        <input type="text" id="nama" name="nama" required>
        
        <label>Gender</label>
        <input type="radio" id="gender_m" name="gender" value="Laki-Laki" required>
        <label for="gender_m" class="inline">Laki-Laki</label>
        <input type="radio" id="gender_f" name="gender" value="Perempuan">
        <label for="gender_f" class="inline">Perempuan</label>

        <label for="tempatLahir">Tempat Lahir :</label>
        <select id="tempatLahir" name="tempatLahir" required>
            <option value="">Pilih Kota</option>
            <option value="Denpasar">Denpasar</option>
            <option value="Gianyar">Gianyar</option>
            <option value="Tabanan">Tabanan</option>
            <option value="Badung">Badung</option>
            <option value="Klungkung">Klungkung</option>
            <option value="Bangli">Bangli</option>
            <option value="Karangasem">Karangasem</option>
            <option value="Buleleng">Buleleng</option>
            <option value="Jembrana">Jembrana</option>
            <option value="Luar Bali">Luar Bali</option>
        </select>

        <label for="TaLa">Tanggal Lahir :</label>
        <input type="date" id="TaLa" name="TaLa">

        <label for="alamat">Alamat :</label>
        <input type="text" id="alamat" name="alamat">

        <label for="noHP">No. HP :</label>
        <input type="tel" id="noHP" name="noHP">

        <label for="email">Email :</label>
        <input type="email" id="email" name="email">

        <label for="hobi">Hobi :</label>
        <select id="hobi" name="hobi" onchange="checkHobi(this);">
            <option value="">Pilih Hobi</option>
            <option value="Membaca">Membaca</option>
            <option value="Menulis">Menulis</option>
            <option value="Olahraga">Olahraga</option>
            <option value="Bermain Game">Bermain Game</option>
            <option value="lainnya">Lainnya</option>
        </select>

        <input type="text" id="hobiLainnya" name="hobiLainnya" style="display:none;" placeholder="Masukkan hobi Anda">

        <input type="submit" value="Submit">
    </form>

    <!--Table Data-->
    <section id="data-section">
        <h2 class="sr-only">Data Tersimpan</h2>
        <div class="table-wrap">
            <table id="dataTable" aria-label="Tabel data formulir">
                <thead>
                    <tr>
                        <th>NIM</th>
                        <th>Nama</th>
                        <th>Gender</th>
                        <th>Tempat Lahir</th>
                        <th>Tgl Lahir</th>
                        <th>Alamat</th>
                        <th>No. HP</th>
                        <th>Email</th>
                        <th>Hobi</th>
                    </tr>
                </thead>
                <tbody>
                    <!--Tempat Data Nanti-->
                </tbody>
            </table>
        </div>
    </section>

    <script>
    function checkHobi(select) {
        var hobiLainnya = document.getElementById('hobiLainnya');
        if (select.value === 'lainnya') {
            hobiLainnya.style.display = 'block';
            hobiLainnya.required = true;
        } else {
            hobiLainnya.style.display = 'none';
            hobiLainnya.required = false;
        }
    }

    document.getElementById('dataForm').addEventListener('submit', function(e) {
        e.preventDefault();

            var nim = document.getElementById('nim').value.trim();
            var nama = document.getElementById('nama').value.trim();
            var gender = document.querySelector('input[name="gender"]:checked') ? document.querySelector('input[name="gender"]:checked').value : '';
            var tempat = document.getElementById('tempatLahir').value;
            var tgl = document.getElementById('TaLa').value;
            var alamat = document.getElementById('alamat').value.trim();
            var noHP = document.getElementById('noHP').value.trim();
            var email = document.getElementById('email').value.trim();
            var hobiSelect = document.getElementById('hobi').value;
            var hobi = hobiSelect === 'lainnya' ? document.getElementById('hobiLainnya').value.trim() : hobiSelect;

        if (!nim || !nama) {
            alert('Mohon isi NIM dan Nama.');
        return;
        }

            var tbody = document.querySelector('#dataTable tbody');
            var tr = document.createElement('tr');

    [nim, nama, gender, tempat, tgl, alamat, noHP, email, hobi].forEach(function(text) {
            var td = document.createElement('td');
        td.textContent = text || '-';
        tr.appendChild(td);
    });

    tbody.appendChild(tr);

    document.getElementById('dataForm').reset();
    document.getElementById('hobiLainnya').style.display = 'none';
    document.getElementById('hobiLainnya').required = false;
});
    </script>
</body>
</html>
